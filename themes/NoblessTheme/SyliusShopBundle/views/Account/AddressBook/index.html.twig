{% extends '@SyliusShop/Account/AddressBook/layout.html.twig' %}

{% import '@SyliusShop/Common/Macro/messages.html.twig' as messages %}
{% import '@SyliusShop/Common/Macro/headers.html.twig' as headers %}
{% import "@SyliusShop/Common/Macro/icons.html.twig" as icons %}

{% block title %}
    {{ 'sylius.menu.shop.account.address_book'|trans }} | {{ parent() }}
{% endblock %}

{% block subcontent %}
    <div id="addressPage" class="col-12">
        {% if addresses|length > 0 %}
            <div class="row my-5">
                {% set default_address = (sylius.customer.defaultAddress) %}

                {% if default_address is not null %}
                    <div class="col-12 col-md-6 mb-3">
                        <h5>{{ 'sylius.ui.shipping_address_default'|trans }}</h5>
                        {% include '@SyliusShop/Account/AddressBook/_defaultAddress.html.twig' with {'address': default_address} %}
                    </div>
                    <div class="col-12 col-md-6 mb-3">
                        <h5>{{ 'sylius.ui.billing_address_default'|trans }}</h5>
                        {% include '@SyliusShop/Account/AddressBook/_defaultAddress.html.twig' with {'address': default_address} %}
                    </div>
                {% endif %}
            </div>

            <div class="row mt-4 mx-0 additional-address">
                <div class="col-12 d-flex flex-row p-0 title">
                    <h5 class="col-6 col-lg-10 py-2 px-0">{{ 'sylius.ui.additional_addresses'|trans }}</h5>

                    <div class="col-6 col-lg-2 text-right p-0">
                        <a href="{{ path('sylius_shop_account_address_book_create') }}" class="btn py-2 p-0">
                            {{ icons.plus() }}
                            <span class="d-none d-md-inline">{{ 'sylius.ui.add_address'|trans }}</span>
                            <span class="d-inline d-md-none">{{ 'sylius.ui.add'|trans }}</span>
                        </a>
                    </div>
                </div>
                <div class="row col-12 mt-3 p-0 address-list m-0">
                    {% set addressCount = 1 %}
                    {% for address in addresses if default_address is null or address.id != default_address.id %}
                        <div class="col-12 col-lg-6 mb-3 px-2 p-0{% if addressCount % 2 == 1 %} pl-md-0{% else %} pr-md-0{% endif %}">
                            {% include '@SyliusShop/Account/AddressBook/_item.html.twig' %}
                        </div>
                        {% set addressCount = addressCount + 1 %}
                    {% endfor %}
                </div>
            </div>
        {% else %}
            {{ 'sylius.ui.you_have_no_addresses_defined'|trans }}
        {% endif %}
    </div>
{% endblock %}
