{% extends '@SyliusShop/layout.html.twig' %}

{% set containerCol = 'col-12 col-lg-11' %}
{% if app.request.attributes.get('_route') != 'sylius_shop_account_dashboard' %}
    {% set containerCol = 'col-12 col-lg-10 col-xxl-8' %}
{% endif %}
{% block content %}
    <div id="accountPage" class="row col-12 col-lg-11 col-xl-10 mx-auto mt-1">
        <nav class="col-12">
            {% block breadcrumb %}{% endblock %}
        </nav>
        <div class="col-12 text-center mb-3 mb-md-5">
            <h1>{{ 'sylius.ui.my_account'|trans }}</h1>
            <h3>{{ 'sylius.ui.hello'|trans({'%s': sylius.customer.fullName}) }}</h3>
        </div>

        <div class="col-12 mb-4">
            {{ sonata_block_render_event('sylius.shop.account.layout.before_menu') }}

            <div class="d-none d-md-block">
                {{ knp_menu_render('sylius.shop.account', {'template': '@SyliusShop/Menu/simpleTop.html.twig'}) }}
            </div>
            <div class="d-block d-md-none text-center">
                <div id="openAccountMenu" class="p-2 d-inline-block">
                    <span class="pr-2">{{ 'sylius.ui.menu'|trans }}</span>
                    <i class="fas fa-bars icon"></i>
                </div>
            </div>

            {{ sonata_block_render_event('sylius.shop.account.layout.after_menu') }}

            {% block flashes %}
                <div class="col-12 col-lg-10 col-xxl-8 mx-auto px-0">
                    {{ parent() }}
                </div>
            {% endblock %}
        </div>
        <div class="mx-auto {{ containerCol }}">
            {{ sonata_block_render_event('sylius.shop.account.layout.before_subcontent') }}

            {% block subcontent %}
            {% endblock %}

            {{ sonata_block_render_event('sylius.shop.account.layout.after_subcontent') }}
        </div>
    </div>

{% endblock %}
