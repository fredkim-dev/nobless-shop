<div id="carouselBundles" class="carousel slide mb-5" data-ride="carousel">
    <div class="carousel-inner row mx-auto" role="listbox">
        {% if is_mobile() %}
            {% for index, product in products %}
                <div class="carousel-item {% if index == 0 %} active{% endif %}">
                    <div class="col-12">
                        {% include '@SyliusShop/Product/_box.html.twig' %}
                    </div>
                </div>
            {% endfor %}
        {% elseif is_tablet() %}
            {% for index, product in products %}
                {% if index % 2 == 0 and index == 0 %} <div class="carousel-item active"> {% endif %}
                {% if index % 2 == 0 and index != 0%} <div class="carousel-item"> {% endif %}
                <div class="col-md-6">
                    {% include '@SyliusShop/Product/_box.html.twig' %}
                </div>
                {% if index % 2 == 1 %} </div> {% endif %}
            {% endfor %}
        {% else %}
            {% for index, product in products %}
                {% if index % 4 == 0 and index == 0 %} <div class="carousel-item active"> {% endif %}
                {% if index % 4 == 0 and index != 0 %} <div class="carousel-item"> {% endif %}
                <div class="col-lg-3">
                    {% include '@SyliusShop/Product/_box.html.twig' %}
                </div>
                {% if (index != 0 and index % 4 == 0) or index == (products|length) - 1 %} </div> {% endif %}
            {% endfor %}
        {% endif %}
        <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>
